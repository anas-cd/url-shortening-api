console.log("Load script.js");var app={};const body=document.body,burger=document.querySelector("#BurgerMenue"),menue=document.querySelector("div.nlc"),cbtn=document.getElementsByClassName("copy"),url=document.querySelector("#url"),urlbtn=document.querySelector("form button"),form=document.querySelector("form"),LinkList=document.querySelector(".LinkList"),api_url="https://api.shrtco.de/v2/shorten?url=";let url_link,LinksHistory=[],LinkPast=[];app.global={init:function(){console.log("app initiated");let e=[];try{e=JSON.parse(localStorage.getItem("itemarr"))}catch(e){console.log(e)}if(e){console.log("getting data from local storage");for(let t=0;t<e.length;t++)LinksHistory.push(e[t]),app.global.populate(e[t][0],e[t][1]);console.log(e)}},MobMenue:function(){console.log("MobMenue()"),body.classList.contains("MobMenue")?body.classList.remove("MobMenue"):body.classList.add("MobMenue")},shortly:async function(e){console.log("shortly accessed"),url_link=api_url+e;const t=await fetch(url_link);let o=await t.json();LinksHistory.push([o.result.original_link,o.result.full_short_link]),console.log("saving to local storage"),localStorage.setItem("itemarr",JSON.stringify(LinksHistory)),await app.global.populate(o.result.original_link,o.result.full_short_link)},populate:function(e,t){let o=document.createElement("div"),l=document.createElement("a"),n=document.createElement("a"),i=document.createElement("button");o.classList.add("LinkElement"),l.classList.add("link"),n.classList.add("SLink"),i.classList.add("copy"),l.href=e,n.href=t;let s=document.createTextNode(e),a=document.createTextNode(t),r=document.createTextNode("Copy");l.appendChild(s),n.appendChild(a),i.appendChild(r),o.appendChild(l),o.appendChild(n),o.appendChild(i),LinkList.prepend(o);for(let e=0;e<cbtn.length;e++){const t=cbtn[e];let o=LinksHistory.length-(e+1);t.addEventListener("click",(async()=>{navigator.clipboard.writeText(LinksHistory[o][1]),t.innerHTML="Copied!",setTimeout((()=>{t.innerHTML="Copy"}),2e3)}))}}},app.global.init(),burger.addEventListener("click",(()=>{app.global.MobMenue()})),urlbtn.addEventListener("click",(()=>{let e=url.value;e?(console.log("link found"),form.classList.contains("nolink")&&form.classList.remove("nolink"),app.global.shortly(e)):form.classList.add("nolink")}));
//# sourceMappingURL=all.js.map